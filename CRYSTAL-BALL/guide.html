<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>生涯水晶球</title>
<link href="img/favicon.ico" rel="icon">
<!-- google fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
<script src="https://d3js.org/d3.v7.min.js"></script> 
<!--<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>--> 
<script src="https://cdn.plot.ly/plotly-3.0.1.min.js" charset="utf-8"></script>
<style id="plotly.js-style-global"></style>

<!-- web Stylesheet -->
<link rel="stylesheet" href="css/crystal-ball.css">
</head>

<body>
<form>
  <div class="guide-main">
    <h1 class="visually-hidden">生涯水晶球</h1>
    <h2 class="guide-slogan"><img src="img/nice-hi.gif" alt=""/><span>找方向不靠猜，一起解鎖你的生涯水晶球！</span></h2>
    <div class="guide-content">
      <div class="guide-scroller">
        <div class="guide-content-text">
          <h3 class="guide-text-title">認識生涯水晶球</h3>
          <hr>
          <p>生涯水晶球是用三個向度進行學類的分類：<br>
            X軸是「自由」和「規準」，Y軸是「事」和「人」，Z軸是「思考」和「實踐」。<br>
            <br>
            如果你喜歡自己決定、創意發想、彈性大，代表你偏向自由；<br>
            如果你喜歡有計畫、照規則做事，則偏向規準。<br>
            <br>
            偏好「事」的人喜歡操作、分析、處理資料或解決問題；<br>
            偏好「人」的人則喜歡互動、幫助別人或一起合作。<br>
            <br>
            傾向「思考」的人愛分析、推理與理解背後原理；<br>
            「實踐」的人則喜歡動手做、從實際經驗中學習。<br>
            <br>
            了解自己在哪些向度比較有興趣，有助於找到適合自己的學習與發展方向。 </p>
        </div>
        <div class="guide-content-video">
          <div> 
            <!-- -->
            <div class="guide-cover" id="guideCover"><img src="img/direction-cover.png" alt="生涯水晶球操作說明"/></div>
            <!-- -->
            <video class="guide-video" id="guideVideo" controls preload="metadata" playsinline controlsList="nodownload" aria-label="教學影片：按鈕說明">
              <source src="img/direction.mp4" type="video/mp4">
              您的瀏覽器不支援 video 元素。 </video>
            <!-- -->
            <div class="guide-end" id="guideEnd" style="display: none;"> <img src="img/direction-end.png" alt="恭喜完成操作說明！現在你已經熟悉主要功能，快來探索你的生涯水晶球吧！"/>
              <div class="guide-end-btn"><a href="index.html" class="btn btn-tertiary rounded-pill px-4">開始探索</a>
                <button type="button" id="replay" class="btn btn-secondary rounded-pill px-4">再看一次</button>
              </div>
            </div>
            <!-- --> 
          </div>
          <div class="guide-content-skip"><a href="index.html">略過</a></div>
        </div>
      </div>
    </div>
  </div>
</form>
<script>
const video  = document.getElementById('guideVideo');
const cover  = document.getElementById('guideCover');
const end    = document.getElementById('guideEnd');	
const replay = document.getElementById('replay');		

// 把播放影片 + 進入全螢幕的邏輯封裝	
function playVideoFullscreen() {
	cover.style.display = 'none';
	video.style.display = 'block';
	end.style.display = 'none';	
	video.play();

	// 嘗試進入全螢幕（桌機、手機支援不同）
	if (video.requestFullscreen) {
	  video.requestFullscreen();
	} else if (video.webkitRequestFullscreen) { // Safari
	  video.webkitRequestFullscreen();
	} else if (video.msRequestFullscreen) { // IE/Edge
	  video.msRequestFullscreen();
	}	
}

// → 播放影片
cover.addEventListener('click', playVideoFullscreen);
replay.addEventListener('click', playVideoFullscreen);	

// 播放結束 → 退出全螢幕 + 回到封面
video.addEventListener('ended', () => {  
	// 退出全螢幕
	if (document.exitFullscreen) {
	  document.exitFullscreen();
	} else if (document.webkitExitFullscreen) {
	  document.webkitExitFullscreen();
	} else if (document.msExitFullscreen) {
	  document.msExitFullscreen();
	}

	cover.style.display = 'none';
	end.style.display = 'block';	
});
</script>
</body>
</html>
